<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event对象</title>
</head>
<body>
    <!-- <input type="button" id="btn" value="点击"> -->
    <!-- <table border="1">    
        <tbody>        
            <tr>            
                <td>这是td元素</td>        
            </tr>    
        </tbody>
    </table> -->
    <!-- <ul id="ul">
        <li id="li">第一个元素</li>
        <li>第二个元素</li>
    </ul> -->
    <ul>
		<li>
			<p>姓名：老曹</p>
			<p>学号：20213001</p>
			<button class="btn btn-default" id="btn">删除</button>
		</li>
	</ul>
    <script src="./EventUtil.js"></script>
    <script>
        // var btn = document.getElementById('btn');
        // btn.addEventListener('click',function(event){
        //     // //方式1 通过参数传入的event对象
        //     // console.log(event);
        //     // //方式2 通过window.event
        //     // var winEvent = window.event;
        //     // console.log(winEvent);
        //     // //判断两种event是不是相等的
        //     // console.log(event == winEvent);
        //     var event = EventUtil.getEvent(event);
        //     // console.log(event);
        //     var NoIETarget = event.target;
        //     var IETarget = event.srcElement;
        //     console.log(NoIETarget);
        //     console.log(IETarget);
        // })
        // var table = document.querySelector('table');
        // var tbody = document.querySelector('tbody');
        // var tr = document.querySelector('tr');
        // var td = document.querySelector('td');
        function getTargetAndCurrentTarget(event,stage){
            var event = EventUtil.getEvent(event);
            var stageStr;
            if(stage === 'bubble'){
                stageStr = '事件冒泡阶段';
            }else if(stage === 'capture'){
                stageStr = '事件捕获阶段';
            }else{
                stageStr = '事件目标阶段';
            }
            console.log(stageStr,
            'target:' + event.target.tagName.toLowerCase(),
            'currentTarget: ' + event.currentTarget.tagName.toLowerCase());
        }
        // // 事件捕获
        // table.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'capture');
        // }, true);

        // // 事件捕获
        // tbody.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'capture');
        // }, true);

        // // 事件捕获
        // tr.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'capture');
        // }, true);

        // // 事件捕获
        // td.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'target');
        // }, true);

        // // 事件冒泡
        // table.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'bubble');
        // }, false);

        // // 事件冒泡
        // tbody.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'bubble');
        // }, false);

        // // 事件冒泡
        // tr.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'bubble');
        // }, false);

        // // 事件冒泡
        // td.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'target');
        // }, false);
        // var ul = document.querySelector('#ul');
        // var li = document.querySelector('#li');

        // ul.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'bubble');
        // });

        // li.addEventListener('click', function (event) {
        //     getTargetAndCurrentTarget(event, 'bubble');
        // });
        var li = document.querySelector('li');
        var btn = document.querySelector('#btn');

        li.addEventListener('click',function(event){
            //真实操作使用console.log()代替
            console.log('点击了li的响应处理');
        })
        // 第一个事件处理程序
        btn.addEventListener('click', function (event) {
            // 真实操作，使用console来代替
            console.log('button的第一个事件处理程序，做对应的处理');
        });

        // 第二个事件处理程序
        btn.addEventListener('click', function (event) {
            var event = EventUtil.getEvent(event);
            // 阻止事件冒泡
            event.stopImmediatePropagation();
            // 真实操作，使用console来代替
            console.log('button的第二个事件处理程序，做对应的处理');
            });

        // 第三个事件处理程序
        btn.addEventListener('click', function (event) {
            // 真实操作，使用console来代替
            console.log('button的第三个事件处理程序，做对应的处理');
        });
    </script>
</body>
</html>