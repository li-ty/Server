<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>call函数、apply函数和bind函数的巧妙用法</title>
</head>
<body>
    <script>
        //求数组的最大项和最小项
        // var arr = [1,2,3,4,5,6,7,8,9];
        // console.log(Math.max.apply(null,arr));
        // console.log(Math.min.apply(null,arr));

        //类数组对象转换为数组对象
        // function sum(){
        //     var arr = Array.prototype.slice.call(arguments);
        //     //调用数组求和
        //     return arr.reduce(function(pre,cur){
        //         return pre + cur;
        //     })
        // }
        // console.log(sum(1,2));
        // console.log(sum(1,2,3));
        // console.log(sum(1,2,3,4));
        // console.log(sum(1,2,3,4,5));

        //用于继承
        //父类
        // function Animal(age){
        //     this.age = age;
        //     this.sleep = function(){
        //         return this.name + '正在睡觉';
        //     }
        // }    
        // //子类
        // function Cat(name,age){
        //     // this.age = age;
        //     // this.sleep = function(){
        //     //     return this.name + '正在睡觉';
        //     // }
        //     Animal.call(this,age); //实现的功能
        //     this.name = name || 'tom';
        // }

        // var cat = new Cat('tony',11);
        // console.log(cat.sleep());
        // console.log(cat.age);

        //执行匿名函数
        // var animals = [
        //     {species:'Lion',name:'cao teacher'},  
        //     {species:'Whale',name:'cao teacher2'},  
        // ];
        // for(var i =0;i<animals.length;i++){
        //     (function(i){
        //         this.print = function(){
        //             console.log('#'+i+' '+this.species+':'+this.name);
        //         };
        //         this.print();
        //     }).call(animals[i],i);
        // }

        //定义一个函数
        function LateBloomer(){
            this.petalCount = Math.ceil(Math.random()*12)+1;
        }
        //定义一个原型函数
        LateBloomer.prototype.bloom = function(){
            window.setTimeout(this.declare.bind(this),1000);
        }
        //原型链上定义declare函数
        LateBloomer.prototype.declare = function(){
            console.log('I am a beatiful flower with' + this.petalCount+'petals!');
        }
        var flower = new LateBloomer();
        flower.bloom();
    </script>
</body>
</html>